<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
  <title>
    Linux命令（目前使用过的） // underspirit&#39;s Blog
  </title>

  <link href="http://gmpg.org/xfn/11" rel="profile">
<meta http-equiv="content-type" content="text/html; charset=utf-8">


<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

<meta name="description" content="">
<meta name="keywords" content="">
<meta name="author" content="">
<meta name="generator" content="Hugo 0.14" />

  <meta property="og:title" content="Linux命令（目前使用过的）" />
<meta property="og:description" content="" />
<meta property="og:type" content="website" />
<meta property="og:locale" content="en_US" />
<meta property="og:url" content="http://fuck.songru.org/posts/linux/linuxComands/" />


  
  <link rel="stylesheet" href="http://fuck.songru.org//css/base-min.css">
  <link rel="stylesheet" href="http://fuck.songru.org//css/pure-min.css">
  
  
    <link rel="stylesheet" href="http://fuck.songru.org//css/grids-responsive-min.css">
  
  

  <link rel="stylesheet" href="http://fuck.songru.org//css/redlounge.css">
  <link href="http://fuck.songru.org//css/font-awesome.min.css" rel="stylesheet">
  <link href="http://fuck.songru.org//css/googlefonts_raleway.css" rel='stylesheet' type='text/css'>
  <link href="http://fuck.songru.org//css/googlefonts_Libre.css" rel='stylesheet' type='text/css'>

  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/touch-icon-144-precomposed.png">
  <link rel="shortcut icon" href="/favicon.png">

  
  <link href="" rel="alternate" type="application/rss+xml" title="underspirit&#39;s Blog" />

    
  
  <link rel="stylesheet" href="http://fuck.songru.org//css/tomorrow-night-bright.min.css">
  
  <script src="http://fuck.songru.org//js/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>


  

  

    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
  <script type="text/x-mathjax-config">
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [['$','$'], ['\\(','\\)'],['&(',')&']],
    displayMath: [['$$','$$'], ['\\[','\\]']],
    processEscapes: true,
    processEnvironments: true,
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
    TeX: { equationNumbers: { autoNumber: "AMS" },
         extensions: ["AMSmath.js", "AMSsymbols.js"] }
  }
});
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Queue(function() {
    
    
    
    var all = MathJax.Hub.getAllJax(), i;
    for(i = 0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';
    }
});
</script>

<style>
code.has-jax {font: inherit;
              font-size: 100%;
              background: inherit;
              border: inherit;
              color: #515151;}
</style>


  
</head>

<body>
	

	<div id="layout" class="pure-g">
    <div class="sidebar pure-u-1 pure-u-md-1-4">
  <div class="header">
    

    <h1 class="brand-title">Leon&#39;s Blog</h1>
    <h2 class="brand-tagline">Is super awesome</h2>

    <nav class="nav">
      <ul class="nav-list">
        <li class="nav-item"><span class="nav-item-separator">//</span><a href="http://fuck.songru.org/">Home</a></li>
        
          <li class="nav-item"><span class="nav-item-separator">//</span><a href="/posts/">Blog</a></li>
        
      </ul>
    </nav>

    
    <div class="social-buttons">
      
        
        <a href="http://weibo.com/songruLi" target="_blank"><i class='fa fa-weibo'></i></a>
        
      
      
    </div>
    

  </div>
</div>

	
	

    <div class="content pure-u-1 pure-u-md-3-4">
		<a name="top"></a>
		

		
			
	    
  		<section class="post">
            <h1 class="post-title">
              <a href="/posts/linux/linuxComands/">Linux命令（目前使用过的）</a>
            </h1>
            <h3 class="post-subtitle">
            	
            </h3>
            
            	<span class="post-date">
                	<span class="post-date-day"><sup>22</sup></span><span class="post-date-separator">/</span><span class="post-date-month">Sep</span> <span class="post-date-year">2015</span>
            	</span>
            	
            
            	
            

			
			

			

			

            <ol>
<li><p>移动文件（夹）</p>

<pre><code>mv originalDir/source.txt targetDir/target.txt
</code></pre></li>

<li><p>删除文件（夹）</p>

<pre><code>rm dir/target.file   //删除文件
rm -r dir //删除文件夹
</code></pre></li>

<li><p>利用软件源下载安装软件</p>

<pre><code>sudo apt-get install package 安装包
</code></pre></li>

<li><p>解压文件</p>

<pre><code>tar -zxvf XXX压缩包
</code></pre></li>

<li><p>创建文件夹</p>

<pre><code>mkdir dir    // -p参数可以创建子文件夹
</code></pre></li>

<li><p>创建文件</p>

<pre><code>touch dir/a.txt
</code></pre></li>

<li><p>解压文件</p>

<pre><code>tar -zxvf file.tar.gz    //解压到当前目录
tar -zxvf file.tar.gz -C dir    //解压到制定目录
</code></pre>

<p>如果是zip格式的话：</p>

<pre><code>unzip  abc.zip -d /home/test/
</code></pre></li>

<li><p>复制文件（夹）</p>

<pre><code>cp target.file copy.file    //复制文件
cp -r targetDir copyDir //复制文件夹，使用-r递归复制
</code></pre></li>

<li><p>打印当前路径</p>

<pre><code>pwd
</code></pre></li>

<li><p>管理员权限</p>

<pre><code>sudo otherComand...     //使用root权限执行后续命令,一次性的
sudo su    //登录root,以后的命令都是使用root权限
</code></pre></li>

<li><p>查看文件系统使用情况信息</p>

<pre><code>df
</code></pre></li>

<li><p>查看文件(夹)大小</p>

<pre><code>du filename/dir    //-s易于阅读,-h显示总览
</code></pre></li>

<li><p>查看内存使用情况</p>

<pre><code>free -m    //-m表示单位为m
</code></pre></li>

<li><p>任务管理器</p>

<pre><code>top     //退出按 q
</code></pre></li>

<li><p>查看系统信息</p>

<pre><code>uname -a    //-a查看所有信息
</code></pre></li>

<li><p>查看网络接口信息</p>

<pre><code>ifconfig
</code></pre></li>

<li><p>MD5校验</p>

<pre><code>sudo md5sum filename
</code></pre></li>

<li><p>查看文件(夹)权限情况</p>

<pre><code>ls -l path/filename      //查看path路径下名为filename的文件或文件夹的权限
ls -ls path    //查看path路径下的所有文件的权限
</code></pre></li>

<li><p>修改文件(夹)权限(change mode)</p>

<pre><code>sudo chmod -（代表类型）×××（所有者）×××（组用户）×××（其他用户）    //其中×××指文件名（也可以是文件夹名，不过要在chmod后加-ld）,使用 -R 参数来递归修改所有子文件   


//三位数的每一位都表示一个用户类型的权限设置。取值是0～7，即二进制的[000]~[111],这个三位的二进制数的每一位分别表示读、写、执行权限。      
//如000表示三项权限均无，而100表示只读。这样，我们就有了下面的对应：
0 [000] 无任何权限
4 [100] 只读权限
6 [110] 读写权限
7 [111] 读写执行权限


//常用的
sudo chmod 600 ××× （只有所有者有读和写的权限）
sudo chmod 644 ××× （所有者有读和写的权限，组用户只有读的权限）
sudo chmod 700 ××× （只有所有者有读和写以及执行的权限）
sudo chmod 666 ××× （每个人都有读和写的权限）
sudo chmod 777 ××× （每个人都有读和写以及执行的权限）
</code></pre></li>

<li><p>修改文件所有者(change owner)</p>

<pre><code>sudo chown -R lsr software/    // -R 递归修改 software文件夹所有者为lsr
</code></pre></li>

<li><p>读取文件</p>

<pre><code>cat a.txt   # 读取a.txt
</code></pre></li>

<li><p>转换文件编码</p>

<pre><code>iconv -f gbk -t utf-8   # 将文件编码从gbk转到utf8
</code></pre></li>

<li><p>查找行</p>

<pre><code>grep -E &quot;&lt;content&gt;|&lt;contenttitle&gt;&quot;  # 保留含有&lt;content&gt;或者&lt;contenttitle&gt;的行,-E表示使用正则
grep -v &quot;hehe&quot; # -v 排除匹配的行
</code></pre></li>

<li><p>删除文本中指定内容</p>

<pre><code>tr -d &quot;&lt;content&gt;|&lt;contenttitle&gt;|&lt;/content&gt;|&lt;/contenttitle&gt;|&gt;&quot;   # -d表示删除,删除引号内的字符
</code></pre></li>

<li><p>多个命令连续执行</p>

<pre><code>cat a.txt | iconv -f gbk -t utf-8 | grep -E &quot;&lt;content&gt;|&lt;contenttitle&gt;&quot; | tr -d &quot;&lt;content&gt;|&lt;contenttitle&gt;|&lt;/content&gt;|&lt;/contenttitle&gt;|&gt;&quot; &gt; corpus.txt
</code></pre></li>

<li><p>查找文件</p>

<pre><code>find SogouCS/ -name &quot;m_*&quot;   # 在SogouCS目录中按文件名-name查找含有 m_*的文件
</code></pre></li>

<li><p>命令参数传递</p>

<pre><code># xargs将文件名传递过来, -i 表示使用传过来的参数替换 {}
find SogouCS/ -name &quot;m_*&quot; | xargs -i mv {} SogouCS_M/
</code></pre></li>

<li><p>大小写转换</p>

<pre><code>tr A-Z a-z  # 全部转换为小写
</code></pre></li>

<li><p>文本替换</p>

<pre><code># 替换’为'，′为'，'为' , -e 表示多个编辑,即多个sed同时, s表示替换,g表示全局替换
sed -e &quot;s/’/'/g&quot; -e &quot;s/′/'/g&quot; -e &quot;s/''/ /g&quot;


# 替换A-Za-z'_ \n之外的字符为空格,-c 表示排除..之外的都..
tr -c &quot;A-Za-z'_ \n&quot; &quot; &quot;


# 例子             输入文件                                                                    输出到文件
sed -e &quot;s/’/'/g&quot; -e &quot;s/′/'/g&quot; -e &quot;s/''/ /g&quot; &lt; news.2012.en.shuffled | tr -c &quot;A-Za-z'_ \n&quot; &quot; &quot; &gt; news.2012.en.shuffled-norm0
</code></pre></li>

<li><p>从第3000行开始，显示1000行。即显示3000~3999行</p>

<pre><code>cat filename | tail -n +3000 | head -n 1000
</code></pre></li>

<li><p>显示1000行到3000行</p>

<pre><code>cat filename| head -n 3000 | tail -n +1000
*注意两种方法的顺序
分解：
    tail -n 1000：显示最后1000行
    tail -n +1000：从1000行开始显示，显示1000行以后的
    tail -n -1000：相当于tail -n 1000
    head -n 1000：显示前面1000行
    head -n +1000：显示前面1000行
    head -n -1000：从第1行到倒数1000行
</code></pre></li>

<li><p>用sed命令</p>

<pre><code>sed -n '5,10p' filename # 查看文件的第5行到第10行, p表示打印匹配行
sed -n '5p' filename # 只显示第5行
sed -n '5,$p' filename # 查看文件的第5行到最后一行, $表示最后一行
sed -n '3,/movie/'p temp.txt   # 只在第3行查找movie并打印
</code></pre></li>

<li><p>Linux统计文件行数</p>

<pre><code>wc -l file # - c 统计字节数, - l 统计行数, - w 统计字数。


1.统计demo目录下，js文件数量：
find demo/ -name &quot;*.js&quot; | wc -l


2.统计demo目录下所有js文件代码行数：
find demo/ -name &quot;*.js&quot; | xargs cat | wc -l 或 
wc -l `find ./ -name &quot;*.js&quot;` | tail -n 1 # 取最后一行,总行数


3.统计demo目录下所有js文件代码行数，过滤了空行：
find /demo -name &quot;*.js&quot; | xargs cat | grep -v ^$ | wc -l
</code></pre></li>

<li><p>打印进程信息</p>

<pre><code>ps aux
</code></pre></li>

<li><p>ssh连接主机,并执行命令</p>

<pre><code>ssh username@ip 'command'
</code></pre></li>

<li><p>shell中的一种for循环</p>

<pre><code>for((i=1;i&lt;=10;i++))
do
    echo compute-0-$i
    ssh compute-0-$i &quot;nvidia-smi | grep '%' &quot;
 done
</code></pre></li>

<li><p>awk中的while循环</p>

<pre><code>awk 'BEGIN{s=&quot;&quot;;i=11}{while(i&lt;=NF){ s=s&quot; &quot;&quot;&quot;$i;i++; } print s;}' # 提取出command &quot;&quot;用于拼接字符串, NF表示总的字段数
</code></pre></li>
</ol>

<p>半角字符与全角字符之间的unicode码相差65248,而全角空格为12288,半角为32,需特殊对待.</p>

<p>java代码:</p>

<pre><code>/**
 * 全角转半角
 * @param str
 * @return
 */
public static String FullWidth2HalfWidth(String str){
    if (null == str || str.length() &lt;= 0) {
        return &quot;&quot;;
    }
    char []cs;
    cs = str.toCharArray();
    int k;
    for(int i = 0; i &lt; cs.length; i++){
        k = (int)cs[i];
        if(k &gt;= 65281 &amp;&amp; k &lt;= 65374){
            cs[i] -= 65248;
        }else if(k == 12288 || k == 58380){
            cs[i] = 32;
        }
    }
    return new String(cs);
}
</code></pre>

<p>写的bat代码:</p>

<pre><code>@echo off
echo Deploying updates to GitHub...

:: Build the project.
hugo -t red

:: Add changes to git.
git add -A

:: Commit changes.
set msg=rebuilding site %date% %time%
if not &quot;%1&quot;==&quot;&quot; (
  set msg=%1
)
git commit -m &quot;%msg&quot;

:: Push source and build repos.
git push origin hugo
git subtree push --prefix=public origin master

pause
</code></pre>

<p>对应的shell代码:</p>

<pre><code>#!/bin/bash
echo -e &quot;\033[0;32mDeploying updates to GitHub...\033[0m&quot;

# Build the project.
hugo -t red

# Add changes to git.
git add -A

# Commit changes.
msg=&quot;rebuilding site `date`&quot;
if [ $# -eq 1 ]
  then msg=&quot;$1&quot;
fi
git commit -m &quot;$msg&quot;

# Push source and build repos.
git push origin hugo
git subtree push --prefix=public origin master
</code></pre>

	
			

			
				<div class="tags-list">
					<span class="dark-red">Tags</span><span class="decorative-marker">//</span>
					
	                <a class="post-tag post-tag-ubuntu" href="http://fuck.songru.org//tags/ubuntu">ubuntu</a>,
	                
	                <a class="post-tag post-tag-linux" href="http://fuck.songru.org//tags/linux">linux</a>,
	                
				</div>
			

			
				<div class="paging">
					<div class="paging-label">More Reading</div>
					
					<span class="paging-newer">
						<span class="dark-red">下一篇</span><span class="decorative-marker">//</span>
						<a class="paging-link" href="/posts/machine-learning/theano%20cuda%20install/">Window7安装theano、anaconda、CUDA</a>
		            </span>
		            

					
					<span class="paging-older">
						<span class="dark-red">上一篇</span><span class="decorative-marker">//</span>
			            <a class="paging-link" href="/posts/nlp/nlp_3_MinimumEditDistance/">【自然语言处理之三】最小编辑距离（Minimum Edit Distance）</a>
		            </span>
		            
	            </div>
            
          </section>
          
			<div id="disqus_thread"></div>
<script type="text/javascript">

(function() {
    
    
    if (window.location.hostname == "localhost")
        return;

    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    var disqus_shortname = 'songru';
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com/" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
          
        
      <div class="footer">
	<hr class="thin" />
	<div class="pure-menu pure-menu-horizontal pure-menu-open">
		<ul class="footer-menu">
		
		</ul>
	</div>

	<p>&copy; 2016. All rights reserved.</p>
</div>

    </div>
  </div>
	

	

  <script src="http://fuck.songru.org//js/jquery-1.10.2.min.js" type="text/javascript"></script>
<script type="text/javascript">

$(function(){
    $('pre code').each(function(){
        $(this).parent().addClass('codePre');
    });
});
</script>
</body>
</html>